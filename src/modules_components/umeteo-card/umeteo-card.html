<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../../bower_components/iron-image/iron-image.html">
<link rel="import" href="../../shared-styles.html">

<dom-module id="umeteo-card">
    <template>
    <style include="shared-styles">
      :host {
        display: block;
          width:330px;
          height:550px;
        background:var(--paper-grey-500);
         @apply(--shadow-elevation-4dp);
         border-radius:3px;
         position:relative;
      }
      [main]{
         height:400px;
      }
     
      [info]{
          height:150px;
          width:100%
      }
      .card-image{
        width:100%;
        height:400px;
      }
      
      .box .location{
          
          font-size:2.1em;
      } 

      .box .weatherLabel{
      }
      .box .temp {
          font-size:7em;

       }
       .box .deg{
           font-size:2.0em;
          top:0px;
          position:relative;
       }
       .box{
         position:absolute;
          top:10%;
          z-index:999;
           width:100%;
           height:250px;
          color:white;
          padding-left:25px;
   @apply(--layout-vertical);
       }
    </style>
    <!-- <span> hello from card </span> -->

    <div main>
        <div class="box">
        <div class="location">[[data.0.name]], [[data.0.sys.country]]</div> 
        <div class="weatherLabel"> [[data.0.weather.0.description]]</div> 
        <div class="temp">[[_computeTemp(data.0.main.temp)]]</div>
        <span class="deg"> &deg; </span>
        </div>
          <!-- <iron-image   class="card-image" sizing="cover" preload src="http://www.parisattitude.com/images/monuments.jpg"></iron-image> -->
          <iron-image   class="card-image" sizing="cover" preload src="{{photo.src}}"></iron-image>
    </div>
    <div info>
      <span>  Humidity :</span> <span>[[data.0.main.humidity]]  </span> <br />
      <span>  Pressure :</span> <span>[[data.0.main.pressure]]  </span> <br />
      <span>  Temp Max :</span> <span>[[_computeTemp(data.0.main.temp_max)]]  </span> <br />
      <span>  Temp Min :</span> <span>[[_computeTemp(data.0.main.temp_min)]]  </span> <br />
   </div>


    </template>
    <script>
        Polymer(
        {
            is: 'umeteo-card',
            properties:
            {
                photo:
                {
                    type: Array,
                },
                data:
                {
                    type: Array,
                    value: []
                }
            },
            ready: function()
            {
                console.warn(this.data);
            },
            _computeTemp:function(temp){
               if(!temp){
                  return '...';
               }
               else
               return ((temp/274.15)* 100)/100;
            }


        });
    </script>
</dom-module>
